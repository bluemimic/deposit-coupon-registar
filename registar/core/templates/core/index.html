{% extends "base.html" %}

{% load i18n %}

{% block title %}{% translate "Home" %}{% endblock %}

{% block content %}
    {% if user.is_authenticated %}
        <div class="d-flex justify-content-between mb-4">
            <h1>{% translate 'Hi' %}, <span class="fw-bold display-font username">{% if user.first_name %}{{ user.first_name }}{% else %}{{ user.username }}{% endif %}!</span></h1>
            <p>{% blocktranslate with amount=total_amount_returned %}Returned: {{ amount }}â‚¬{% endblocktranslate %}</p>
        </div>


        {% if pinned_shops %}
        <div class="pinned_shops mb-5">
            <h2><i class="bi bi-pin-angle me-3 color-purple"></i>{% translate "Pinned shops" %}</h2>
            <hr>
            {% include "core/modules/shop_card.html" with shops=pinned_shops %}
        </div>
        {% endif %}

        {% if recent_shops %}
        <div class="recent_shops">
            <h2><i class="bi bi-clock-history me-3 color-purple"></i>{% translate "Recent shops" %}</h2>
            <hr>
            
            {% include "core/modules/shop_card.html" with shops=recent_shops %}
        </div>
        {% endif %}

    {% else %}
        <p>{% translate "Welcome to Registar! Please login or register to continue." %}</p>
        
        <div class="d-flex flex-row">
            <a href="{% url 'account:login' %}" class="btn btn-outline-primary me-3">{% translate 'Login' %}</a>
            <a href="{% url 'account:register' %}" class="btn btn-outline-primary">{% translate 'Register' %}</a>
        </div>
    {% endif %}
{% endblock %}